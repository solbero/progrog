<!doctype html><html lang="no" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="Lær å programmere på Micro Bit"><meta name="author" content="Njord A. Solberg"><meta name="lang:clipboard.copy" content="Kopier til utklippstavlen"><meta name="lang:clipboard.copied" content="Kopiert til utklippstavlen"><meta name="lang:search.language" content="no, en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="Ingen treff"><meta name="lang:search.result.one" content="1 treff"><meta name="lang:search.result.other" content="# treff"><meta name="lang:search.tokenizer" content="[\s\-]+"><link rel="shortcut icon" href="../../../images/favicon.png"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.1"><title>Reaksjonsspill - ProgRog</title><link rel="stylesheet" href="../../../assets/stylesheets/application.4031d38b.css"><link rel="stylesheet" href="../../../assets/stylesheets/application-palette.224b79ff.css"><meta name="theme-color" content="#009688"><script src="../../../assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=swap"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel="stylesheet" href="../../../assets/fonts/material-icons.css"><link rel="stylesheet" href="../../../stylesheets/extra.css"></head><body dir="ltr" data-md-color-primary="teal" data-md-color-accent="teal"><svg class="md-svg"><defs></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#lag-et-reaksjonsspill-med-micro-bit" tabindex="1" class="md-skip">Gå til innhold </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href="../../.." title="ProgRog" class="md-header-nav__button md-logo"><i class="md-icon">build</i></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">ProgRog</span><span class="md-header-nav__topic">Reaksjonsspill</span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="Søk" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">Skriv søkeord</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div></div></nav></header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="../../.." title="ProgRog" class="md-nav__button md-logo"><i class="md-icon">build</i></a>ProgRog</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../.." title="Velkommen" class="md-nav__link">Velkommen</a></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked><label class="md-nav__link" for="nav-2">Oppskrifter</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-2">Oppskrifter</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-1" type="checkbox" id="nav-2-1" checked><label class="md-nav__link" for="nav-2-1">Micro Bit</label><nav class="md-nav" data-md-component="collapsible" data-md-level="2"><label class="md-nav__title" for="nav-2-1">Micro Bit</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../terning/" title="Terning" class="md-nav__link">Terning</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">Reaksjonsspill</label><a href="./" title="Reaksjonsspill" class="md-nav__link md-nav__link--active">Reaksjonsspill</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Innholdsfortegnelse</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#introduksjon" title="Introduksjon" class="md-nav__link">Introduksjon</a></li><li class="md-nav__item"><a href="#steg-1-vis-en-pil-pa-skjermen-til-micro-biten-nar-en-knapp-trykkes" title="Steg 1: Vis en pil på skjermen til Micro Biten når en knapp trykkes" class="md-nav__link">Steg 1: Vis en pil på skjermen til Micro Biten når en knapp trykkes</a></li><li class="md-nav__item"><a href="#steg-2-lag-en-tilfeldig-nedtelling" title="Steg 2: Lag en tilfeldig nedtelling" class="md-nav__link">Steg 2: Lag en tilfeldig nedtelling</a></li><li class="md-nav__item"><a href="#steg-3-lage-reglene-for-nar-en-spiller-vinner-eller-taper" title="Steg 3: Lage reglene for når en spiller vinner eller taper" class="md-nav__link">Steg 3: Lage reglene for når en spiller vinner eller taper</a></li><li class="md-nav__item"><a href="#steg-4-sjekke-om-en-spiller-har-trykket-sin-knapp" title="Steg 4: Sjekke om en spiller har trykket sin knapp" class="md-nav__link">Steg 4: Sjekke om en spiller har trykket sin knapp</a></li><li class="md-nav__item"><a href="#avslutning" title="Avslutning" class="md-nav__link">Avslutning</a></li></ul></nav></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="../../../om/" title="Om" class="md-nav__link">Om</a></li><li class="md-nav__item"><a href="../../../kontakt/" title="Kontakt" class="md-nav__link">Kontakt</a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Innholdsfortegnelse</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#introduksjon" title="Introduksjon" class="md-nav__link">Introduksjon</a></li><li class="md-nav__item"><a href="#steg-1-vis-en-pil-pa-skjermen-til-micro-biten-nar-en-knapp-trykkes" title="Steg 1: Vis en pil på skjermen til Micro Biten når en knapp trykkes" class="md-nav__link">Steg 1: Vis en pil på skjermen til Micro Biten når en knapp trykkes</a></li><li class="md-nav__item"><a href="#steg-2-lag-en-tilfeldig-nedtelling" title="Steg 2: Lag en tilfeldig nedtelling" class="md-nav__link">Steg 2: Lag en tilfeldig nedtelling</a></li><li class="md-nav__item"><a href="#steg-3-lage-reglene-for-nar-en-spiller-vinner-eller-taper" title="Steg 3: Lage reglene for når en spiller vinner eller taper" class="md-nav__link">Steg 3: Lage reglene for når en spiller vinner eller taper</a></li><li class="md-nav__item"><a href="#steg-4-sjekke-om-en-spiller-har-trykket-sin-knapp" title="Steg 4: Sjekke om en spiller har trykket sin knapp" class="md-nav__link">Steg 4: Sjekke om en spiller har trykket sin knapp</a></li><li class="md-nav__item"><a href="#avslutning" title="Avslutning" class="md-nav__link">Avslutning</a></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><h1 id="lag-et-reaksjonsspill-med-micro-bit">Lag et reaksjonsspill med Micro Bit<a class="headerlink" href="#lag-et-reaksjonsspill-med-micro-bit" title="Permanent link">&para;</a></h1>
<iframe width="768" height="432" src="https://www.youtube.com/embed/obrNe2_qAKU" frameborder="0" modestbranding="1" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<h2 id="introduksjon">Introduksjon<a class="headerlink" href="#introduksjon" title="Permanent link">&para;</a></h2>
<p>Dette er en oppskrift som passer for deg som har programmert litt på Micro Bit fra før. Oppskriften tar omtrent en time å gjennomføre. Du skal i denne oppskriften lage et reaksjonsspill for to spillere.</p>
<div class="admonition abstract">
<p class="admonition-title">Du vil lære</p>
<ul>
<li>å vise piler på skjermen til Micro Biten når en knapp trykkes</li>
<li>å lage en nøyaktig nedtelling</li>
<li>å programmere spilleregler</li>
<li>å bruke en variabel til å huske om noe har skjedd</li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">Du trenger</p>
<ul>
<li>en Micro Bit</li>
<li>en USB-kabel til overføring</li>
<li>en batteripakke med to AAA-batterier</li>
</ul>
</div>
<h2 id="steg-1-vis-en-pil-pa-skjermen-til-micro-biten-nar-en-knapp-trykkes">Steg 1: Vis en pil på skjermen til Micro Biten når en knapp trykkes<a class="headerlink" href="#steg-1-vis-en-pil-pa-skjermen-til-micro-biten-nar-en-knapp-trykkes" title="Permanent link">&para;</a></h2>
<p>I dette steget skal vi fortelle Micro Biten at den skal vise en pil på skjermen når en knapp trykkes. Pilen skal peke mot knappen som ble trykt.</p>
<ul>
<li>
<p>Begynn med å åpne nettsiden <a href="https://makecode.microbit.org/" target="_blank">MakeCode for micro:bit</a>.</p>
</li>
<li>
<p>Trykk på knappen <code>Nytt Prosjekt</code> for å starte et nytt prosjekt.</p>
</li>
<li>
<p>Gi prosjektet navnet <em>Reaksjonsspill for to spillere</em> ved å skrive i tekstfeltet nederst på siden.</p>
</li>
<li>
<p>Slett alle klossene som ligger i lærretet. Du sletter en kloss ved å dra den til venstre over kategoriene. Slipp klossen når søplespannet vises for å slette den.</p>
</li>
</ul>
<p>Da er vi klar til å begynne å kode! Først skal vi lage pilen som peker mot A-knappen når den trykkes.</p>
<ul>
<li>
<p>Dra klossen <code class="input">når knapp A trykkes</code> fra kategorien <code class="input">Inndata</code> og slipp den et sted på lærretet.</p>
</li>
<li>
<p>Finn klossen <code class="basic">vis bilde</code> i kategorien <code class="basic">Basis</code>. Ta tak i klossen og plasser den i munnen til <code class="input">når A trykkes</code>.</p>
</li>
<li>
<p>Tegn en pil på <code class="basic">vis bilde</code>-klossen ved å trykke på de små firkantene. Pass på at pilen peker til venstre!</p>
</li>
</ul>
<pre><code class="blocks">input.onButtonPressed(Button.A, function () {
    basic.showLeds(`
        . . # . .
        . # . . .
        # # # # #
        . # . . .
        . . # . .
        `)
})
</code></pre>

<p>Da skal vi lage pilen som peker mot B-knappen når den trykkes.</p>
<ul>
<li>
<p>Dra klossen <code class="input">når knapp A trykkes</code> fra kategorien <code class="input">Inndata</code> og slipp den et sted på lærretet. Trykk på <code class="input">A</code> på <code class="input">når knapp A trykkes</code> og velg <code class="input">B</code> fra rullegardinmenyen.</p>
</li>
<li>
<p>Finn klossen <code class="basic">vis bilde</code> og plasser den i munnen til <code class="input">når B trykkes</code>.</p>
</li>
<li>
<p>Tegn en pil som peker mot høyre på <code class="basic">vis bilde</code>-klossen ved å trykke på de små firkantene.</p>
</li>
</ul>
<pre><code class="blocks">input.onButtonPressed(Button.A, function () {
    basic.showLeds(`
        . . # . .
        . # . . .
        # # # # #
        . # . . .
        . . # . .
        `)
})
input.onButtonPressed(Button.B, function () {
    basic.showLeds(`
        . . # . .
        . . . # .
        # # # # #
        . . . # .
        . . # . .
        `)
})
</code></pre>

<div class="admonition success">
<p class="admonition-title">Test programmet</p>
<p>Til venstre er det bilde av en Micro Bit. Denne kan du bruke til å teste programmet ditt mens du koder. Trykk på <code>A</code>-knappen, da skal det vises en pil på skjermen som peker mot venstre. Etterpå prøver du å trykke på <code>B</code>-knappen. Da skal det vises en pil mot høyre.</p>
</div>
<div class="admonition failure">
<p class="admonition-title">Det virker ikke!</p>
<p>Peker ikke pilene mot knappene når du trykker på dem? Da er noe galt i koden din. For å finne feilen bør du lese oppskriften om igjen og se nøye på bildene.</p>
</div>
<h2 id="steg-2-lag-en-tilfeldig-nedtelling">Steg 2: Lag en tilfeldig nedtelling<a class="headerlink" href="#steg-2-lag-en-tilfeldig-nedtelling" title="Permanent link">&para;</a></h2>
<p>Vi vil at en prikk skal vises på skjermen til Micro Biten når reaksjonspillet begynner. På et tilfeldig tidspunkt mellom null til fem sekunder skal denne prikken bli til en firkant. For å få til dette må vi lage en tilfeldig nedtelling.</p>
<p>For å lage en tilfeldig nedtelling må reaksjonsspillet huske tre tidspunkter:</p>
<ol>
<li>Når nedtellingen starter</li>
<li>Hvor lenge nedtellingen varer</li>
<li>Når nedtellingen slutter</li>
</ol>
<p>Disse tre tidspunktene skal reaksjonsspillet huske med å bruke tre variabler. Vi begynner med å lage variablene vi trenger.</p>
<p>Legg merke til at klossene fra forrige steg vil fortsatt være i lærretet ditt på MakeCode. De skal ikke slettes selv om kun klossene for dette steget vises under.</p>
<ul>
<li>Ta klossen <code class="basic">ved start</code> fra kategorien <code class="basic">Basis</code> og plasser den på lærretet.</li>
<li>Trykk på kategorien <code class="variables">Variabler</code> og deretter på knappen <code>Lag en variabel</code>. I tekstfeltet som vises på skjermen skriver du <em>starttid</em>.</li>
<li>Plasser klossen <code class="variables">sett starttid til 0</code> i munnen til <code class="basic">ved start</code>.</li>
</ul>
<pre><code class="blocks">let starttid = 0
</code></pre>

<ul>
<li>Lag to variabler til i <code class="variables">Variabel</code>-kategorien ved å trykke på <code>Lag en variabel</code>. Den ene variabelen skal hete <em>ventetid</em> og den andre skal hete <em>sluttid</em>.</li>
<li>Plasser <code class="variables">sett ventetid til 0</code> og <code class="variables">sett sluttid til 0</code> i munnen til <code class="variables">når starter</code>.</li>
</ul>
<p>Klossene <code class="variables">sett … til 0</code> og <code class="variables">endre … med 0</code> i kategorien <code class="variables">Variabler</code> viser alltid navnet til den siste variabelen du laget. For å skifte navnet på en variabel-kloss må du dra klossen ut i lærretet og deretter trykke på firkanten som er rundt navnet på klossen. I rullegradinmenyen som da vises vil du kunne velge riktig variabel.</p>
<pre><code class="blocks">let starttid = 0
let ventetid = 0
let sluttid = 0
</code></pre>

<ul>
<li>Finn klossen <code class="input">kjøretid (ms)</code> og plasser den på verdifeltet til <code class="variables">sett starttid til 0</code>. For å finne denne klossen må du først trykke på kategorien <code class="input">Inndata</code>. Når du har trykket på kategorien vil det dukke opp en kategori under <code class="input">Inndata</code> som heter <code class="input">⋯ more</code>. Trykk på den nye kategorien for å finne <code class="input">kjøretid (ms)</code>.</li>
</ul>
<pre><code class="blocks">let starttid = input.runningTime()
let ventetid = 0
let sluttid = 0
</code></pre>

<ul>
<li>Finn klossen <code class="math">velg tilfeldig 0 til 10</code> fra kategorien <code class="math">Matematikk</code>. Plasser den i verdifeltet til <code class="variables">sett ventetid til 0</code>.</li>
<li>Skift tallet 10 til 5000 på <code class="math">velg tilfeldig 0 til 10</code>-klossen. Klossen <code class="math">velg tilfeldig 0 til 5000</code> vil nå velge en tilfeldig ventetid mellom 0 og 5000 millisekunder. Et millisekund er et tusenedelssekund. Det betyr at 5000 millisekunder er det samme som 5 sekunder.</li>
</ul>
<pre><code class="blocks">})
let starttid = input.runningTime()
let ventetid = Math.randomRange(0, 5000)
let sluttid = 0
</code></pre>

<p>Nå skal vi regne ut sluttiden for nedtellingen. Den regner vi ut ved å summere <code class="variables">starttid</code> og <code class="variables">ventetid</code> variablene.</p>
<ul>
<li>Ta klossen <code class="math">0 + 0</code> fra <code class="math">Matematikk</code>-kategorien og plasser den på verdifetet til <code class="math">sett sluttid til 0</code>.</li>
<li>Plasser variabelene <code class="variables">starttid</code> og <code class="variables">ventetid</code> på verdifeltene til klossen <code class="math">0 = 0</code>.</li>
</ul>
<pre><code class="blocks">let starttid = input.runningTime()
let ventetid = Math.randomRange(0, 5000)
let sluttid = starttid + ventetid
</code></pre>

<p>Til slutt skal vi lage en prikken som skifter til en firkant på skjermen når ventetiden er løpt ut.</p>
<ul>
<li>Begynn med å plassere to <code class="basic">vis bilde</code>-klosser i munnen til <code class="basic">når starter klossen</code>. Pass på at begge klossene plasseres under variablene.</li>
<li>Tegn en prikk på den øverste <code class="basic">vis bilde</code>-klossen og en firkant på den nederste <code class="basic">vis bilde</code>-klossen.</li>
<li>Plasser deretter klossen <code class="basic">pause (ms) 0</code> fra <code class="basic">Basis</code>-kategorien mellom de to <code class="basic">vis bilde</code>-klossene.</li>
<li>Plasser variabelen <code class="variables">ventetid</code> på verdifeltet til <code class="basic">pause (ms) 0</code>-klossen.</li>
</ul>
<pre><code class="blocks">let starttid = input.runningTime()
let ventetid = Math.randomRange(0, 5000)
let sluttid = starttid + ventetid
basic.showLeds(`
    . . . . .
    . . . . .
    . . # . .
    . . . . .
    . . . . .
    `)
basic.pause(ventetid)
basic.showLeds(`
    . . . . .
    . # # # .
    . # . # .
    . # # # .
    . . . . .
    `)
</code></pre>

<div class="admonition success">
<p class="admonition-title">Test programmet</p>
<p>Micro Biten til venstre på MakeCode skal nå vise en prikk som blir til en firkant på et tilfeldig tidspunkt. Trykk på <code>🔃</code> under Micro Biten for å kjøre koden igjen. Tiden det tar før prikken blir en forkant skal være ulik hver gang du trykker på <code>🔃</code>.</p>
</div>
<div class="admonition failure">
<p class="admonition-title">Det virker ikke!</p>
<p>Hvis ikke prikken blir til en firkant på Micro Biten så er noe galt i koden din. For å finne feilen bør du se nøye på bildene i oppskriften og sammenligne dem med din kode. En vanlig feil er å plassere gale klosser på verdifeltene til <code class="variables">sett … til</code>-klossene</p>
</div>
<div class="admonition question">
<p class="admonition-title">Utfordring</p>
<p>Prikken vil bli til en firkant på skjermen til Micro Biten etter at det har gått fra 0 til 5 sekunder. Hva må du skifte i koden din hvis du vil at firkanten skal vises når det har gått fra 2 til 8 sekunder?</p>
</div>
<h2 id="steg-3-lage-reglene-for-nar-en-spiller-vinner-eller-taper">Steg 3: Lage reglene for når en spiller vinner eller taper<a class="headerlink" href="#steg-3-lage-reglene-for-nar-en-spiller-vinner-eller-taper" title="Permanent link">&para;</a></h2>
<p>Nå må vi lage noen regler for reaksjonsspillet. Reglene forteller spillet hvem som vinner eller taper. For å få til dette må bruke to regler:</p>
<ol>
<li>Hvis en spiller trykker på sin knapp etter at firkanten vises på skjermen så vinner spilleren som trykket knappen.</li>
<li>Hvis en spiller trykker på sin knapp før firkanten vises på skjermen så vinner så taper spilleren som trykket knappen.</li>
</ol>
<p>Først skal vi programmere den første regelen. Dette er regelen som forteller reaksjonspillet at en spiller har trykket på sin knapp etter at firkanten er dukket opp på skjermen.</p>
<ul>
<li>Finn klossen <code class="logic">hvis sann</code> fra kategorien <code class="logic">Logikk</code>. Dra klossen over <code class="input">hvis knapp A trykkes</code>-klossen og slipp den når <code class="basic">vis bilde</code>-klossen er i munnen på <code class="logic">hvis sann</code>-klossen.</li>
</ul>
<pre><code class="blocks">input.onButtonPressed(Button.A, function () {
    if (true) {
        basic.showLeds(`
            . . # . .
            . # . . .
            # # # # #
            . # . . .
            . . # . .
            `)
    }
})

</code></pre>

<ul>
<li>Trekk klossen <code class="logic">0 &lt; 0</code> fra kategorien <code class="logic">Logikk</code> og plasser den på verdifetet til <code class="logic">hvis sann</code>-klossen.</li>
</ul>
<pre><code class="blocks">input.onButtonPressed(Button.A, function () {
    if (0 &lt; 0) {
        basic.showLeds(`
            . . # . .
            . # . . .
            # # # # #
            . # . . .
            . . # . .
            `)
    }
})

</code></pre>

<ul>
<li>Finn variabelen <code class="variables">sluttid</code> fra <code class="variables">Variabel</code>-kategorien og plasser klossen på det venstre verdifeltet på <code class="logic">0 &lt; 0</code>-klossen.</li>
<li>Finn klossen <code class="input">kjøretid (ms)</code> fra <code class="input">Inndata</code>-kategorien plasserer klossen på det høyre verdifeltet på <code class="logic">sluttid &lt; 0</code>-klossen.</li>
</ul>
<pre><code class="blocks">input.onButtonPressed(Button.A, function () {
    let sluttid = 0
    if (sluttid &lt; input.runningTime()) {
        basic.showLeds(`
            . . # . .
            . # . . .
            # # # # #
            . # . . .
            . . # . .
            `)
    }
})

</code></pre>

<p>Nå har vi programmert den første regelen til reaksjonsspillet. Heldigvis er det enklere å fortelle spillet om den andre regelen.</p>
<ul>
<li>Trykk på <code>+</code>-knappen nederst på <code class="logic">hvis sluttid &lt; kjøretid (ms)</code>-klossen. Klossen vil da bli til en <code class="logic">hvis sluttid &lt; kjøretid (ms) ellers</code>-kloss.</li>
</ul>
<pre><code class="blocks">input.onButtonPressed(Button.A, function () {
    let sluttid = 0
    if (sluttid &lt; input.runningTime()) {
        basic.showLeds(`
            . . # . .
            . # . . .
            # # # # #
            . # . . .
            . . # . .
            `)
    } else {

    }
})
</code></pre>

<ul>
<li>Finn en <code class="basic">vis bilde</code>-kloss og plasser i munnen på <code>ellers</code> på <code class="logic">hvis sluttid &lt; kjøretid (ms) ellers</code>-klossen.</li>
<li>Tegn en pil på <code class="basic">vis bilde</code>-kloss som peker motsatt vei <code class="basic">vis bilde</code>-klossen over den.</li>
</ul>
<pre><code class="blocks">input.onButtonPressed(Button.A, function () {
    let sluttid = 0
    if (sluttid &lt; input.runningTime()) {
        basic.showLeds(`
            . . # . .
            . # . . .
            # # # # #
            . # . . .
            . . # . .
            `)
    } else {
        basic.showLeds(`
            . . # . .
            . . . # .
            # # # # #
            . . . # .
            . . # . .
            `)
    }
})

</code></pre>

<p>Da har vi fortalt spillet om den andre regelen.</p>
<p>Til slutt i dette steget skal vi fortelle spillet at det skal starte på nytt etter at en knapp er trykket. For å starte programmet på nytt skal vi bruke klossen <code>tilbakestill</code>.</p>
<ul>
<li>Ta klossen <code class="basic">pause (ms) 100</code> og plasser den under <code class="logic">hvis sluttid &lt; kjøretid (ms) ellers</code>-klossen. Skift tallet i verdifeltet til 2000.</li>
<li>Finn klossen <code class="control">tilbakestill</code> i kategorien <code class="control">Styring</code>. Kategorien <code class="control">Kontroll</code> finner du ved å først trykke på <code>Avansert</code> i kategoriskuffen. Da vil skuffen vise mange flere kategorier.</li>
<li>Ta tak i <code class="control">tilbakestill</code>-klossen og plasser den under <code class="basic">pause (ms) 2000</code>-klossen.</li>
</ul>
<pre><code class="blocks">input.onButtonPressed(Button.A, function () {
    if (sluttid &lt; input.runningTime()) {
        basic.showLeds(`
            . . # . .
            . # . . .
            # # # # #
            . # . . .
            . . # . .
            `)
    } else {
        basic.showLeds(`
            . . # . .
            . . . # .
            # # # # #
            . . . # .
            . . # . .
            `)
    }
    basic.pause(2000)
    control.reset()
})
</code></pre>

<p>Gjenta hele steget du akkurat har gjort for <code class="input">hvis knapp B trykkes</code>-klossen. Når du er ferdig skal<code>hvis knapp B trykkes</code> se ut som bildet under. Legg merke til at pilene peker motsatt vei sammenlignet med <code class="input">hvis knapp B trykkes</code>.</p>
<pre><code class="blocks">input.onButtonPressed(Button.B, function () {
    if (sluttid &lt; input.runningTime()) {
        basic.showLeds(`
            . . # . .
            . . . # .
            # # # # #
            . . . # .
            . . # . .
            `)
    } else {
        basic.showLeds(`
            . . # . .
            . # . . .
            # # # # #
            . # . . .
            . . # . .
            `)
    }
    basic.pause(2000)
    control.reset()
})
</code></pre>

<div class="admonition success">
<p class="admonition-title">Test programmet</p>
<p>Prøv å trykke på en av knappene på Micro Biten etter at firkanten dukker opp på skjermen. Da skal pilen som vises på skjermen peke mot knappen som ble tyrkt. Etter at pilen er blitt vist i to sekunder skal reaksjonsspillet starte på nytt. Prøv også å trykke på en av knappene før prikken blir til en firkant. Pilen skal nå peke mot den andre knappen.</p>
</div>
<div class="admonition failure">
<p class="admonition-title">Det virker ikke!</p>
<p>Peker ikke pilene riktig når du trykker på knappene? Eller starter ikke reaksjonsspillet på nytt når du trykker en knapp? Da er noe galt i koden din. For å finne feilen bør du lese dette steget om igjen og se nøye på bildene.</p>
</div>
<h2 id="steg-4-sjekke-om-en-spiller-har-trykket-sin-knapp">Steg 4: Sjekke om en spiller har trykket sin knapp<a class="headerlink" href="#steg-4-sjekke-om-en-spiller-har-trykket-sin-knapp" title="Permanent link">&para;</a></h2>
<p>Nå er reaksjonsspillet nesten ferdig, men det er et par ting som gjenstår. Vi må legge til en <em>tilstand</em> i spillet. En tilstand forteller spillet om noe har skjedd eller ikke. Tilstanden vi skal sjekke er om en av spillerne har trykket på sin knapp.</p>
<ul>
<li>Finn en <code class="logic">hvis sann</code>-kloss fra <code class="logic">Logikk</code>-kategorien. Plasser klossen i munnen til <code class="input">hvis knapp A trykt</code>-klossen og i tillegg rundt <code class="logic">hvis sluttid &lt; kjøretid (ms) ellers</code>-klossen.</li>
<li>Dra en <code class="logic">ikke</code>-kloss fra <code class="logic">Logikk</code>-kategorien og plasser de på verdifeltet til <code class="logic">hvis sann</code>-klossen.</li>
<li>Lag en ny variabel som heter <code class="variables">knapp_er_trykt</code>.</li>
<li>Drar <code class="variables">knapp_er_trykt</code>-klossen fra <code class="variables">Variabel</code>-kategorien og plasserer den på verdifeltet til <code class="logic">ikke</code>-klossen.</li>
</ul>
<pre><code class="blocks">input.onButtonPressed(Button.A, function () {
    let er_knapp_trykt = 0
    if (!(er_knapp_trykt)) {
        if (sluttid &lt; input.runningTime()) {
            basic.showLeds(`
                . . # . .
                . # . . .
                # # # # #
                . # . . .
                . . # . .
                `)
        } else {
            basic.showLeds(`
                . . # . .
                . . . # .
                # # # # #
                . . . # .
                . . # . .
                `)
        }
        basic.pause(2000)
        control.reset()
    }
})
</code></pre>

<ul>
<li>Finn <code class="variables">sett knapp_er_trykt til</code>-klossen fra <code class="variables">Variabel</code>-kategorien. Plasser klossen ovenfor <code class="logic">hvis sluttid &lt; kjøretid (ms) ellers</code>-klossen.</li>
<li>Ta klossen <code class="logic">sann</code> fra kategorien <code class="logic">Logikk</code> og plasser den på verdifeltet til <code class="variables">sett knapp_er_trykt til</code>-klossen.</li>
</ul>
<pre><code class="blocks">input.onButtonPressed(Button.A, function () {
    if (!(er_knapp_trykt)) {
        er_knapp_trykt = true
        if (sluttid &lt; input.runningTime()) {
            basic.showLeds(`
                . . # . .
                . # . . .
                # # # # #
                . # . . .
                . . # . .
                `)
        } else {
            basic.showLeds(`
                . . # . .
                . . . # .
                # # # # #
                . . . # .
                . . # . .
                `)
        }
        basic.pause(2000)
        control.reset()
    }
})
</code></pre>

<p>De siste klossen du skal plassere er en <code class="logic">hvis sann</code>-kloss Denne klosse skal sjekke om en knapp er blitt trykt. Den gjør at firkanten kun dukker opp på skjermen hvis ingen knaper er blitt trykt på av spillerne.</p>
<ul>
<li>Finn klossen <code class="logic">hvis sann</code> fra kategorien <code class="logic">Logikk</code>. Plasser klossen rundt <code class="basic">vis bilde</code>-klossen er plassert i kunnen til <code class="basic">ved start</code>-klossen.</li>
<li>På verdifeltet til <code class="logic">hvis sann</code>-klossen plasserer du først en <code class="logic">ikke</code>-kloss og så variabelen <code class="variables">knapp_er_trykt</code>.</li>
</ul>
<pre><code class="blocks">let sluttid = 0
let starttid = input.runningTime()
let ventetid = Math.randomRange(0, 5000)
sluttid = starttid + ventetid
basic.showLeds(`
    . . . . .
    . . . . .
    . . # . .
    . . . . .
    . . . . .
    `)
basic.pause(ventetid)
if (!(knapp_er_trykt)) {
    basic.showLeds(`
        . . . . .
        . # # # .
        . # . # .
        . # # # .
        . . . . .
        `)
}
</code></pre>

<p>Da er du ferdig! Hele koden til reaksjonsspillet skal se ut som på bildet under.</p>
<pre><code class="blocks">input.onButtonPressed(Button.A, function () {
    if (!(knapp_er_trykt)) {
        knapp_er_trykt = true
        if (sluttid &lt; input.runningTime()) {
            basic.showLeds(`
                . . # . .
                . # . . .
                # # # # #
                . # . . .
                . . # . .
                `)
        } else {
            basic.showLeds(`
                . . # . .
                . . . # .
                # # # # #
                . . . # .
                . . # . .
                `)
        }
        basic.pause(2000)
        control.reset()
    }
})
input.onButtonPressed(Button.B, function () {
    if (!(knapp_er_trykt)) {
        knapp_er_trykt = true
        if (sluttid &lt; input.runningTime()) {
            basic.showLeds(`
                . . # . .
                . . . # .
                # # # # #
                . . . # .
                . . # . .
                `)
        } else {
            basic.showLeds(`
                . . # . .
                . # . . .
                # # # # #
                . # . . .
                . . # . .
                `)
        }
        basic.pause(2000)
        control.reset()
    }
})
let knapp_er_trykt = false
let sluttid = 0
let starttid = input.runningTime()
let ventetid = Math.randomRange(0, 5000)
sluttid = starttid + ventetid
basic.showLeds(`
    . . . . .
    . . . . .
    . . # . .
    . . . . .
    . . . . .
    `)
basic.pause(ventetid)
if (!(knapp_er_trykt)) {
    basic.showLeds(`
        . . . . .
        . # # # .
        . # . # .
        . # # # .
        . . . . .
        `)
}
</code></pre>

<div class="admonition success">
<p class="admonition-title">Test programmet</p>
<p>Prøv å trykke på en knapp på Micro Biten før firkanten vises på skjermen. Pilen skal da peke mot den knappen som ikke ble trykt. Når spillet har startet på nytt prøver du å trykke på en knapp etter at firkanten dukker opp på skjermen. Pilen skal da peke mot den knappen du trykte. Prøv så å trykke på en knapp og rett etterpå den andre knappen. Pilene skal ikke skifte retning når du gjør dette.</p>
</div>
<div class="admonition failure">
<p class="admonition-title">Det virker ikke!</p>
<p>Vises firkanten på skjermen etter etter at du har trykt på en knapp? Eller skifter pilen retning når du trykker på begge knappene raskt etter hverandre? Da er noe galt i koden din. For å finne feilen bør du lese dette steget om igjen og se nøye på bildene.</p>
</div>
<h2 id="avslutning">Avslutning<a class="headerlink" href="#avslutning" title="Permanent link">&para;</a></h2>
<p>Gratulerer, du har nå laget et reaksjonspill! Hvis du testet programmet ditt på slutten av forrige steg og ikke fant noen feil så skal du nå overføre programmet til Micro Biten.</p>
<ul>
<li>Koble Micro Biten til datamaskinen din med en USB-kabel.</li>
<li>Trykk på tannhjulet øverst til høyre på siden og velg <code>Koble sammen</code>.</li>
<li>Nå vises en dialogboks på siden. Trykk på knappen <code>Koble sammen</code>.</li>
<li>Velg <em>BBC micro:bit CMSIS-DAP</em> eller <em>DAPLink CMSIS-DAP</em> fra listen som vises og trykk på knappen <code>Sammenkoble</code>.</li>
<li>Trykk til slutt på knappen <code>Last ned</code> nederst til venstre på siden for å overføre programmet til Micro Biten.</li>
</ul>
<p>Da er det på tide å spille spillet! Hvem er raskest av deg og en venn?</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Det finnes mange forskjellige programmeringssider og -apper for Micro Bit. Bruk den siden eller appen som du har lært i undervisningen.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
</ol>
</div></article></div></div></main><footer class="md-footer"><div class="md-footer-nav"><nav class="md-footer-nav__inner md-grid"><a href="../terning/" title="Terning" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev"><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Forrige</span>Terning</span></div></a><a href="../../../om/" title="Om" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next"><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Neste</span>Om</span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright"><div class="md-footer-copyright__highlight">Creative Commons BY-SA 4.0</div>powered by <a href="https://www.mkdocs.org">MkDocs</a> and <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a></div></div></div></footer></div><script src="../../../assets/javascripts/application.b260a35d.js"></script><script src="../../../assets/javascripts/lunr/lunr.stemmer.support.js"></script><script src="../../../assets/javascripts/lunr/lunr.no.js"></script><script src="../../../assets/javascripts/lunr/lunr.multi.js"></script><script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script><script src="https://code.jquery.com/jquery-3.4.1.min.js"></script><script src="../../../javascripts/embed.js"></script></body></html>